# ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Supabase

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ —à–∞–≥–∏ —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

## üìã –ß–µ–∫–ª–∏—Å—Ç

### 1. –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã ‚úÖ
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Supabase Dashboard ‚Üí Table Editor:

- [ ] users
- [ ] categories
- [ ] tags
- [ ] posts
- [ ] music
- [ ] post_tags
- [ ] likes
- [ ] comments
- [ ] comment_likes
- [ ] follows
- [ ] saves
- [ ] notifications
- [ ] messages
- [ ] analytics_events
- [ ] user_interests

**–ò—Ç–æ–≥–æ: 15 —Ç–∞–±–ª–∏—Ü**

### 2. Storage buckets —Å–æ–∑–¥–∞–Ω—ã üì¶
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Supabase Dashboard ‚Üí Storage:

- [ ] avatars
- [ ] covers
- [ ] posts-videos
- [ ] posts-images
- [ ] posts-thumbnails
- [ ] music
- [ ] chat-media

**–ò—Ç–æ–≥–æ: 7 buckets**

### 3. Authentication –≤–∫–ª—é—á–µ–Ω üîê
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Supabase Dashboard ‚Üí Authentication ‚Üí Providers:

- [ ] Email –≤–∫–ª—é—á–µ–Ω
- [ ] Confirm email –≤—ã–∫–ª—é—á–µ–Ω (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- [ ] Enable sign-ups –≤–∫–ª—é—á–µ–Ω

### 4. RLS Policies –∞–∫—Ç–∏–≤–Ω—ã üîí
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —É –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã –µ—Å—Ç—å –∑–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞ RLS enabled

### 5. SQL —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã ‚ö°
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ —Ñ–∞–π–ª–∞ `SUPABASE_FUNCTIONS.sql`

---

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
```sql
-- –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 15 —Å—Ç—Ä–æ–∫
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public'
ORDER BY table_name;
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
```sql
-- –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 16 –∫–∞—Ç–µ–≥–æ—Ä–∏–π
SELECT name, emoji FROM categories ORDER BY display_order;
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ RLS
```sql
-- –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 15 —Å—Ç—Ä–æ–∫ (–≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å RLS)
SELECT tablename, rowsecurity 
FROM pg_tables 
WHERE schemaname = 'public' AND rowsecurity = true;
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π
```sql
-- –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
SELECT routine_name 
FROM information_schema.routines 
WHERE routine_schema = 'public'
ORDER BY routine_name;
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### Authentication Email Settings
–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–∫–ª—é—á–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email:

1. **Authentication ‚Üí Settings**
2. –ù–∞–π–¥–∏—Ç–µ **Enable email confirmations**
3. **–í—ã–∫–ª—é—á–∏—Ç–µ** –≥–∞–ª–æ—á–∫—É
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email!

### Storage Settings
–î–ª—è –∫–∞–∂–¥–æ–≥–æ bucket:

1. –û—Ç–∫—Ä–æ–π—Ç–µ bucket
2. **Settings**
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **Public bucket**: ON
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

---

## üéØ –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

–ö–æ–≥–¥–∞ –≤—Å—ë –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ, —Å–æ–æ–±—â–∏—Ç–µ –º–Ω–µ –∏ —è:
1. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É—é Supabase –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. ‚úÖ –°–æ–∑–¥–∞–º —ç–∫—Ä–∞–Ω—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–≤—Ö–æ–¥–∞
3. ‚úÖ –ü–æ–¥–∫–ª—é—á—É –∑–∞–≥—Ä—É–∑–∫—É –≤–∏–¥–µ–æ/—Ñ–æ—Ç–æ
4. ‚úÖ –ù–∞—Å—Ç—Ä–æ—é —Ä–µ–∞–ª—å–Ω—É—é –ª–µ–Ω—Ç—É –∏–∑ –ë–î
5. ‚úÖ –í–∫–ª—é—á—É –∞–Ω–∞–ª–∏—Ç–∏–∫—É

---

## üìä –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ú–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ SQL:

```sql
-- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–Ω–∞—á–∞–ª–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ auth.users)
-- –ó–∞—Ç–µ–º –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å:
INSERT INTO users (id, username, display_name, email, bio, is_verified)
VALUES (
  'user-uuid-here', -- UUID –∏–∑ auth.users
  'testuser',
  'Test User',
  'test@example.com',
  'Test account for development',
  false
);
```

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –û—à–∏–±–∫–∞: "relation does not exist"
- –¢–∞–±–ª–∏—Ü–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∏–∑ SUPABASE_SETUP.md

### –û—à–∏–±–∫–∞: "permission denied"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ RLS policies
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ policies —Å–æ–∑–¥–∞–Ω—ã

### –û—à–∏–±–∫–∞: "function does not exist"
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ SUPABASE_FUNCTIONS.sql

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏?

–ö–æ–≥–¥–∞ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
- ‚úÖ –í—Å–µ 15 —Ç–∞–±–ª–∏—Ü —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –í—Å–µ 7 buckets —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ RLS –≤–∫–ª—é—á–µ–Ω
- ‚úÖ Authentication –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**–°–æ–æ–±—â–∏—Ç–µ –º–Ω–µ –∏ —è –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—é –≤—Å—ë –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!** üöÄ

