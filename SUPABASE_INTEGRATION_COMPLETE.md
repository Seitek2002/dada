# ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Supabase –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

## üéâ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Supabase
- ‚úÖ **15 —Ç–∞–±–ª–∏—Ü** —Å–æ–∑–¥–∞–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ **7 Storage buckets** –¥–ª—è –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤
- ‚úÖ **RLS –ø–æ–ª–∏—Ç–∏–∫–∏** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ **–¢—Ä–∏–≥–≥–µ—Ä—ã** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—á–µ—Ç—á–∏–∫–æ–≤
- ‚úÖ **–§—É–Ω–∫—Ü–∏–∏** –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

### 2. Flutter –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ **–ü–∞–∫–µ—Ç supabase_flutter** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ **SupabaseDatasource** —Å –ø–æ–ª–Ω—ã–º API
- ‚úÖ **AuthProvider** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ **–≠–∫—Ä–∞–Ω—ã –≤—Ö–æ–¥–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ **Service Locator** –æ–±–Ω–æ–≤–ª–µ–Ω

### 3. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ –∏ —Ñ–æ—Ç–æ –≤ Supabase Storage
- ‚úÖ –õ–∞–π–∫–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø–æ–¥–ø–∏—Å–∫–∏
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–æ—Å—Ç–æ–≤
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞)

---

## üéØ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:
```
Splash Screen ‚Üí Login Screen
    ‚Üì
    ‚îú‚îÄ‚Üí Sign In ‚Üí Main Screen (—Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏)
    ‚îú‚îÄ‚Üí Sign Up ‚Üí Main Screen (—Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏)
    ‚îî‚îÄ‚Üí Skip ‚Üí Main Screen (—Å mock –¥–∞–Ω–Ω—ã–º–∏)
```

### –û–ø—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. **Sign In** - –≤–æ–π—Ç–∏ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∞–∫–∫–∞—É–Ω—Ç
2. **Sign Up** - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
3. **Skip for now** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å mock –¥–∞–Ω–Ω—ã–µ (–±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)

---

## üì± –°–æ–∑–¥–∞–Ω–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
- `lib/presentation/screens/auth/login_screen.dart` - –≤—Ö–æ–¥
- `lib/presentation/screens/auth/signup_screen.dart` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- –ö—Ä–∞—Å–∏–≤—ã–π UI –≤ —Å—Ç–∏–ª–µ TikTok

---

## üîë –ú–µ—Ç–æ–¥—ã SupabaseDatasource

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:
```dart
signUp(email, password, username, displayName)
signIn(email, password)
signOut()
getUserProfile(userId)
updateUserProfile(userId, displayName, bio, avatarUrl)
```

### –ü–æ—Å—Ç—ã:
```dart
getFeedPosts(limit, offset)
getUserPosts(userId)
createPost(mediaUrl, mediaType, caption, ...)
```

### –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
```dart
toggleLike(postId)
isPostLiked(postId)
getComments(postId)
addComment(postId, text)
toggleFollow(targetUserId)
```

### –ü–æ–∏—Å–∫:
```dart
searchUsers(query)
searchPosts(query)
```

### Storage:
```dart
uploadAvatar(filePath)
uploadVideo(filePath)
uploadImage(filePath)
```

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞:
```dart
trackView(postId)
trackCompletion(postId, percentage)
```

---

## üöÄ –ö–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ Supabase

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (main.dart)
```dart
ServiceLocator().init(useRemoteData: true); // –í–º–µ—Å—Ç–æ false
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
```dart
ServiceLocator().switchToRemoteData();
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –ü–æ–∫–∞ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí mock –¥–∞–Ω–Ω—ã–µ
- –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ ‚Üí Supabase –¥–∞–Ω–Ω—ã–µ

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ posts:
```dart
media_type: 'video' | 'image' | 'carousel'
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:
- **–í–∏–¥–µ–æ:** MP4, MOV, AVI
- **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:** JPG, PNG, WEBP
- **–ö–∞—Ä—É—Å–µ–ª—å:** –ú–∞—Å—Å–∏–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –ü—Ä–∏–º–µ—Ä –ø–æ—Å—Ç–∞:
```json
{
  "id": "uuid",
  "author_id": "user-uuid",
  "media_type": "video",
  "media_url": "https://...",
  "thumbnail_url": "https://...",
  "caption": "Amazing video! #dance #viral",
  "category_id": "category-uuid",
  "likes_count": 1500,
  "views_count": 50000,
  "is_published": true
}
```

---

## üé® –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–≥–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

### –§–∞–∑–∞ 1: –¢–µ–∫—É—â–µ–µ (–≥–æ—Ç–æ–≤–æ) ‚úÖ
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ –≠–∫—Ä–∞–Ω—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 2: –ú–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ/—Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- [ ] –†–µ–∞–ª—å–Ω–∞—è –ª–µ–Ω—Ç–∞ –∏–∑ Supabase
- [ ] –ü–æ–¥–ø–∏—Å–∫–∏ –∏ –ª–∞–π–∫–∏ —Å Supabase
- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å Supabase
- [ ] Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] –ß–∞—Ç—ã

### –§–∞–∑–∞ 3: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Mux –¥–ª—è –≤–∏–¥–µ–æ
- [ ] Realtime –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (WebSocket)
- [ ] –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º
- [ ] –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### 1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```bash
flutter run
# –ù–∞–∂–∞—Ç—å Sign Up
# –í–≤–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ:
Email: test@test.com
Username: testuser
Display Name: Test User
Password: test123
```

### 2. –í–æ–π—Ç–∏:
```bash
# –ù–∞–∂–∞—Ç—å Sign In
Email: test@test.com
Password: test123
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å mock –¥–∞–Ω–Ω—ã–µ:
```bash
# –ù–∞–∂–∞—Ç—å "Skip for now"
# –£–≤–∏–¥–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –≤–∏–¥–µ–æ
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –ß—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ:
- Anon Key –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–ª–∏–µ–Ω—Ç–µ
- RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –∑–∞—â–∏—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ
- Service Role Key –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–ª–∏–µ–Ω—Ç–µ

### ‚ö†Ô∏è –î–ª—è production:
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –∫–ª—é—á–∏ –≤ .env —Ñ–∞–π–ª
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ flutter_dotenv
- –î–æ–±–∞–≤—å—Ç–µ .env –≤ .gitignore

---

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase:
–û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor:
```sql
SELECT table_name FROM information_schema.tables 
WHERE table_schema = 'public';
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```sql
SELECT * FROM users;
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å—Ç—ã:
```sql
SELECT * FROM posts;
```

---

## ‚úÖ –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- ‚úÖ Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ Storage –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ Authentication –≥–æ—Ç–æ–≤
- ‚úÖ API –º–µ—Ç–æ–¥—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –≠–∫—Ä–∞–Ω—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

---

## üéØ –ó–∞–ø—É—Å–∫

–°–µ–π—á–∞—Å –∑–∞–ø—É—â—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Supabase! üöÄ

